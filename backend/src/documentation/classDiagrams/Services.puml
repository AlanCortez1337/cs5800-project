@startuml

class IngredientService {
    - ingredientRepository : IngredientRepository

    + createIngredient(ingredient: Ingredient) : Ingredient
    + getAllIngredients() : List<Ingredient>
    + getIngredientById(id: Integer) : Ingredient
    + deleteIngredient(id: Integer) : void
    + getIngredientByProductName(productName: String) : Ingredient
}

class RecipeService {
    - recipeRepository : RecipeRepository

    + updateRecipe(recipeId: Integer, incomingRecipe: Recipe) : Recipe <<Transactional>>
    + createRecipe(recipe: Recipe) : Recipe
    + getAllRecipes() : List<Recipe>
    + getRecipeById(id: Integer) : Recipe
    + deleteRecipe(id: Integer) : void
    + getIngredientByRecipeName(recipeName: String) : Recipe
}

class ReportService {
    - reportRepository : ReportRepository

    + createReport(type: ReportType, id: Long, name: String) : Report <<Transactional>>
    + createReports(reports: List<Report>) : List<Report> <<Transactional>>
    + getAllReports() : List<Report>
    + getReportsByType(reportType: ReportType) : List<Report>
    + getReportsByDateRange(start: LocalDateTime, end: LocalDateTime) : List<Report>
    + getReportsByTypeAndDateRange(type: ReportType, start: LocalDateTime, end: LocalDateTime) : List<Report>
    + getReportSummary(start: LocalDateTime, end: LocalDateTime) : Map<String, Object>
    + getChartData(type: ReportType, start: LocalDateTime, end: LocalDateTime, groupBy: String) : List<Map<String, Object>>
    + getTopEntities(type: ReportType, start: LocalDateTime, end: LocalDateTime, limit: int) : List<Map<String, Object>>
    + getDashboardData(start: LocalDateTime, end: LocalDateTime) : Map<String, Object>
    + getComparisonData(type: ReportType, currentStart: LocalDateTime, currentEnd: LocalDateTime, previousStart: LocalDateTime, previousEnd: LocalDateTime) : Map<String, Object>
    + deleteReportsOlderThan(cutoffDate: LocalDateTime) : void <<Transactional>>
}

class UserService {
    - adminRepository : AdminRepository
    - staffRepository : StaffRepository

    + createUser(user: User) : User
    + getAllUsers() : List<User>
    + getUserById(id: Integer) : User
    + getUserByStaffID(staffID: String) : User
    + getUserByAdminID(adminID: String) : User
    + deleteUser(id: Integer) : void
    + getUserByUserName(userName: String) : User
    + changeStaffPrivilege(adminID: String, staffID: String, privilegeToToggle: PRIVILEGES[]) : void
}

@enduml